import{H as m}from"./utils-EHOxmoec.js";function Y(r,t){return typeof r=="function"?r(...t):!!r}function J(){}var g={VITE_GOOGLE_CLIENT_ID:"593959678029-q5mc1uajqadivlud0sv4jjujdbku4q0v.apps.googleusercontent.com",VITE_SUPPORT_EMAIL:"support@chitchat.gg",VITE_HCAPTCHA_SITE_KEY:"4b3b35ac-4d00-418b-a63c-3d6b890cd3a0",VITE_SERVER_BASE_URL:"https://api.chitchat.gg",VITE_TENOR_API_KEY:"AIzaSyCOoKGQkKjwMnCWExZYjQqHb7Qji6CF_A4",VITE_DISCORD_INVITE:"https://discord.gg/TBC3DB6bhq",VITE_CLIENT_BASE_URL:"https://www.chitchat.gg",VITE_FACEBOOK_APP_ID:"307403495618334",VITE_TURNSTILE_SITE_KEY:"0x4AAAAAAADHYVnaidHhU-Us",VITE_APP_BASE_URL:"https://app.chitchat.gg",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const z=g.NODE_ENV==="development",Q=g.NODE_ENV==="staging",w="https://www.chitchat.gg",W=w+"/terms",$=w+"/privacy-policy",T="https://api.chitchat.gg",Z=T,X="Chitchat",tt=["5s","10s","30s","1m","10m"],et="https://discord.gg/TBC3DB6bhq",st="https://support.google.com/chrome/answer/3220216?hl=en&co=GENIE.Platform%3DDesktop",rt=void 0,ot="307403495618334",nt="593959678029-q5mc1uajqadivlud0sv4jjujdbku4q0v.apps.googleusercontent.com";class R extends Error{constructor(t){super("Request timed out"),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.request=t}}const p=r=>r!==null&&typeof r=="object",l=(...r)=>{for(const t of r)if((!p(t)||Array.isArray(t))&&t!==void 0)throw new TypeError("The `options` argument must be an object");return y({},...r)},E=(r={},t={})=>{const s=new globalThis.Headers(r),e=t instanceof globalThis.Headers,o=new globalThis.Headers(t);for(const[n,a]of o.entries())e&&a==="undefined"||a===void 0?s.delete(n):s.set(n,a);return s},y=(...r)=>{let t={},s={};for(const e of r)if(Array.isArray(e))Array.isArray(t)||(t=[]),t=[...t,...e];else if(p(e)){for(let[o,n]of Object.entries(e))p(n)&&o in t&&(n=y(t[o],n)),t={...t,[o]:n};p(e.headers)&&(s=E(s,e.headers),t.headers=s)}return t},S=(()=>{let r=!1,t=!1;const s=typeof globalThis.ReadableStream=="function",e=typeof globalThis.Request=="function";return s&&e&&(t=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type")),r&&!t})(),C=typeof globalThis.AbortController=="function",O=typeof globalThis.ReadableStream=="function",P=typeof globalThis.FormData=="function",A=["get","post","put","patch","head","delete"],v={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},d=2147483647,q=Symbol("stop"),k={json:!0,parseJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,fetch:!0},x={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0},U=r=>A.includes(r)?r.toUpperCase():r,D=["get","put","head","delete","options","trace"],j=[408,413,429,500,502,503,504],I=[413,429,503],b={limit:2,methods:D,statusCodes:j,afterStatusCodes:I,maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:r=>.3*2**(r-1)*1e3},N=(r={})=>{if(typeof r=="number")return{...b,limit:r};if(r.methods&&!Array.isArray(r.methods))throw new Error("retry.methods must be an array");if(r.statusCodes&&!Array.isArray(r.statusCodes))throw new Error("retry.statusCodes must be an array");return{...b,...r,afterStatusCodes:I}};async function L(r,t,s,e){return new Promise((o,n)=>{const a=setTimeout(()=>{s&&s.abort(),n(new R(r))},e.timeout);e.fetch(r,t).then(o).catch(n).then(()=>{clearTimeout(a)})})}async function V(r,{signal:t}){return new Promise((s,e)=>{t&&(t.throwIfAborted(),t.addEventListener("abort",o,{once:!0}));function o(){clearTimeout(n),e(t.reason)}const n=setTimeout(()=>{t==null||t.removeEventListener("abort",o),s()},r)})}const B=(r,t)=>{const s={};for(const e in t)!(e in x)&&!(e in k)&&!(e in r)&&(s[e]=t[e]);return s};class f{static create(t,s){const e=new f(t,s),o=async()=>{if(typeof e._options.timeout=="number"&&e._options.timeout>d)throw new RangeError(`The \`timeout\` option cannot be greater than ${d}`);await Promise.resolve();let i=await e._fetch();for(const u of e._options.hooks.afterResponse){const c=await u(e.request,e._options,e._decorateResponse(i.clone()));c instanceof globalThis.Response&&(i=c)}if(e._decorateResponse(i),!i.ok&&e._options.throwHttpErrors){let u=new m(i,e.request,e._options);for(const c of e._options.hooks.beforeError)u=await c(u);throw u}if(e._options.onDownloadProgress){if(typeof e._options.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!O)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return e._stream(i.clone(),e._options.onDownloadProgress)}return i},a=e._options.retry.methods.includes(e.request.method.toLowerCase())?e._retry(o):o();for(const[i,u]of Object.entries(v))a[i]=async()=>{e.request.headers.set("accept",e.request.headers.get("accept")||u);const h=(await a).clone();if(i==="json"){if(h.status===204||(await h.clone().arrayBuffer()).byteLength===0)return"";if(s.parseJson)return s.parseJson(await h.text())}return h[i]()};return a}constructor(t,s={}){if(Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"abortController",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_retryCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._input=t,this._options={credentials:this._input.credentials||"same-origin",...s,headers:E(this._input.headers,s.headers),hooks:y({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},s.hooks),method:U(s.method??this._input.method),prefixUrl:String(s.prefixUrl||""),retry:N(s.retry),throwHttpErrors:s.throwHttpErrors!==!1,timeout:s.timeout??1e4,fetch:s.fetch??globalThis.fetch.bind(globalThis)},typeof this._input!="string"&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&typeof this._input=="string"){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(C){if(this.abortController=new globalThis.AbortController,this._options.signal){const e=this._options.signal;this._options.signal.addEventListener("abort",()=>{this.abortController.abort(e.reason)})}this._options.signal=this.abortController.signal}if(S&&(this._options.duplex="half"),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){const o="?"+(typeof this._options.searchParams=="string"?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString()),n=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,o);(P&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(n,{...this.request}),this._options)}this._options.json!==void 0&&(this._options.body=JSON.stringify(this._options.json),this.request.headers.set("content-type",this._options.headers.get("content-type")??"application/json"),this.request=new globalThis.Request(this.request,{body:this._options.body}))}_calculateRetryDelay(t){if(this._retryCount++,this._retryCount<=this._options.retry.limit&&!(t instanceof R)){if(t instanceof m){if(!this._options.retry.statusCodes.includes(t.response.status))return 0;const e=t.response.headers.get("Retry-After");if(e&&this._options.retry.afterStatusCodes.includes(t.response.status)){let o=Number(e);return Number.isNaN(o)?o=Date.parse(e)-Date.now():o*=1e3,this._options.retry.maxRetryAfter!==void 0&&o>this._options.retry.maxRetryAfter?0:o}if(t.response.status===413)return 0}const s=this._options.retry.delay(this._retryCount);return Math.min(this._options.retry.backoffLimit,s)}return 0}_decorateResponse(t){return this._options.parseJson&&(t.json=async()=>this._options.parseJson(await t.text())),t}async _retry(t){try{return await t()}catch(s){const e=Math.min(this._calculateRetryDelay(s),d);if(e!==0&&this._retryCount>0){await V(e,{signal:this._options.signal});for(const o of this._options.hooks.beforeRetry)if(await o({request:this.request,options:this._options,error:s,retryCount:this._retryCount})===q)return;return this._retry(t)}throw s}}async _fetch(){for(const s of this._options.hooks.beforeRequest){const e=await s(this.request,this._options);if(e instanceof Request){this.request=e;break}if(e instanceof Response)return e}const t=B(this.request,this._options);return this._options.timeout===!1?this._options.fetch(this.request.clone(),t):L(this.request.clone(),t,this.abortController,this._options)}_stream(t,s){const e=Number(t.headers.get("content-length"))||0;let o=0;return t.status===204?(s&&s({percent:1,totalBytes:e,transferredBytes:o},new Uint8Array),new globalThis.Response(null,{status:t.status,statusText:t.statusText,headers:t.headers})):new globalThis.Response(new globalThis.ReadableStream({async start(n){const a=t.body.getReader();s&&s({percent:0,transferredBytes:0,totalBytes:e},new Uint8Array);async function i(){const{done:u,value:c}=await a.read();if(u){n.close();return}if(s){o+=c.byteLength;const h=e===0?0:o/e;s({percent:h,transferredBytes:o,totalBytes:e},c)}n.enqueue(c),await i()}await i()}}),{status:t.status,statusText:t.statusText,headers:t.headers})}}/*! MIT License Â© Sindre Sorhus */const _=r=>{const t=(s,e)=>f.create(s,l(r,e));for(const s of A)t[s]=(e,o)=>f.create(e,l(r,o,{method:s}));return t.create=s=>_(l(s)),t.extend=s=>_(l(r,s)),t.stop=q,t},H=_(),M=H.create({prefixUrl:T,credentials:"include"}),it=M;export{X as A,st as D,ot as F,nt as G,rt as H,z as _,it as a,Q as b,et as c,tt as i,J as n,$ as p,Y as s,W as t,Z as w};
